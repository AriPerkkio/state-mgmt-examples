(self.webpackChunkstate_mgmt_examples=self.webpackChunkstate_mgmt_examples||[]).push([[261],{7025:function(e,t,r){"use strict";r.d(t,{Tt:function(){return L},ZP:function(){return b},Rf:function(){return y}});var n=r(7757),i=r.n(n),s=r(8926),o=r.n(s),u=r(4575),a=r.n(u),c=r(3913),l=r.n(c),f=r(9713),d=r.n(f),p=r(8903),m=r(7746),h=r.n(m),g=function(){function e(){var t=this;a()(this,e),d()(this,"requests",[]),d()(this,"subscribers",[]),d()(this,"getUsers",(function(){return t._fetch("/users")})),d()(this,"addUser",function(){var e=o()(i().mark((function e(r){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.addRequest("POST /users"),e.next=3,(0,p.gw)(2e3);case 3:return t.addRequest("OK /users"),e.abrupt("return",{name:r,id:(0,p.EL)()});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),d()(this,"removeUser",function(){var e=o()(i().mark((function e(r){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.addRequest("DELETE /users/".concat(r.id)),e.next=3,(0,p.gw)(2e3);case 3:t.addRequest("OK /users/".concat(r.id));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),d()(this,"clearRequests",(function(){t.requests=[],t.notifySubscribers()}))}var t,r;return l()(e,[{key:"_fetch",value:(r=o()(i().mark((function e(t){var r,n,s,u=this,a=arguments;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>1&&void 0!==a[1]?a[1]:{},n=r.delayMs,s=t.replace(this.baseUrl,""),this.addRequest("GET ".concat(s)),e.abrupt("return",this._mockFetch(t).then((function(e){if(!e.ok)throw new Error("Request to ".concat(t," failed with HTTP").concat(e.status));return e})).then((function(e){return e.json()})).then(function(){var e=o()(i().mark((function e(t){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,p.gw)(n||2e3);case 2:return u.addRequest("OK ".concat(s)),e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:case"end":return e.stop()}}),e,this)}))),function(e){return r.apply(this,arguments)})},{key:"subscribe",value:function(e){this.subscribers.push(e),e(this.reqests)}},{key:"unSubscribe",value:function(e){this.subscribers=this.subscribers.filter((function(t){return t!==e}))}},{key:"addRequest",value:function(e){this.requests.push(e),this.notifySubscribers()}},{key:"notifySubscribers",value:function(){var e=this;this.subscribers.forEach((function(t){return t(e.requests)}))}},{key:"_mockFetch",value:(t=o()(i().mark((function e(t){var r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=h()[t],e.abrupt("return",{ok:!!r,status:r?200:404,json:function(){return new Promise((function(e){return e(r)}))}});case 2:case"end":return e.stop()}}),e)}))),function(e){return t.apply(this,arguments)})}]),e}(),v=new g,b=v,y=v.getUsers,E=r(3038),R=r.n(E),$=r(7294),U=r(9434),w=r(5973),O=$RefreshSig$();function L(){O();var e=(0,$.useReducer)((function(e){return e+1}),0),t=R()(e,2)[1];(0,$.useEffect)((function(){return b.subscribe(t),function(){b.unSubscribe(t),b.clearRequests()}}),[]);var r=b.requests.length,n=r>10?r-10:0;return $.createElement("section",null,$.createElement(U.H3,{onClick:b.clearRequests,style:{cursor:"pointer"}},"API requests, click to reset"),$.createElement(w.a,null,r>10&&$.createElement(w.H,null,"..."),b.requests.slice(n).map((function(e,t){return $.createElement(w.H,{key:t},e)}))))}O(L,"UxqsAPbyOOo6jkpO1hjMpCydUI8="),$RefreshReg$(L,"ApiRequests")},7746:function(e){e.exports={"/users":[{id:1,name:"John Doe"},{id:2,name:"Jane Doe"}]}},3225:function(e,t,r){"use strict";r.d(t,{E:function(){return s}});var n=r(9163),i=r(9630),s=n.ZP.div.withConfig({displayName:"Containers__FlexContainer",componentId:"osdxjy-0"})(["display:flex;& > * + *{margin-left:5rem;border-left:1px dashed ",";padding-left:2rem;}"],i.A2)},6722:function(e,t,r){"use strict";r.d(t,{Z:function(){return h}});var n,i,s=r(7154),o=r.n(s),u=r(3038),a=r.n(u),c=r(6479),l=r.n(c),f=r(7294),d=r(9163),p=$RefreshSig$(),m=d.ZP.input.withConfig({displayName:"Input__StyledInput",componentId:"tgycnj-0"})(["margin-right:1rem;&[disabled]{text-decoration:line-through;}"]);function h(e){p();var t=e.children,r=e.disabled,n=l()(e,["children","disabled"]),i=(0,f.useState)(""),s=a()(i,2),u=s[0],c=s[1];return(0,f.useEffect)((function(){!r&&c("")}),[r]),f.createElement("div",null,f.createElement(m,o()({type:"text",disabled:r,value:u,onChange:function(e){return c(e.target.value)}},n)),t(u))}n=m,p(h,"aFIykL0K1j3we4veeaDstLdSuC8="),i=h,$RefreshReg$(n,"StyledInput"),$RefreshReg$(i,"Input")},448:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});var n=r(3038),i=r.n(n),s=r(7294),o=r(9693),u=$RefreshSig$();function a(e){u();var t=e.initiallyMounted,r=e.children,n=(0,s.useReducer)((function(e){return!e}),!!t),a=i()(n,2),c=a[0],l=a[1];return s.createElement(s.Fragment,null,s.createElement(o.Z,{onClick:l},c?"Unmount":"Mount"),c&&r)}u(a,"SGBRyZ8qj4KP74qoZGVxnnGCTRI="),$RefreshReg$(a,"MountToggle")},8903:function(e,t,r){"use strict";r.d(t,{gw:function(){return n},EL:function(){return s},ZT:function(){return o}});var n=function(e){return new Promise((function(t){return setTimeout(t,e)}))},i=10,s=function(){return i++},o=function(){}},261:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return oe}});var n,i,s,o,u,a,c,l,f,d,p=r(7294),m=r(2141),h=r(1165),g=r.n(h),v=r(4575),b=r.n(v),y=r(3913),E=r.n(y),R=(r(9713),r(3124)),$=r.n(R),U=(r(7268),r(2188)),w=(d=function(){function e(){b()(this,e),g()(this,"users",i,this),g()(this,"isLoading",s,this),g()(this,"hasLoaded",o,this),g()(this,"error",u,this),g()(this,"isAdding",a,this),g()(this,"addingError",c,this),g()(this,"isRemoving",l,this),g()(this,"removingError",f,this)}return E()(e,[{key:"setUsers",value:function(e){this.users=e,this.isLoading=!1,this.hasLoaded=!0}},{key:"setLoading",value:function(){this.isLoading=!0}},{key:"setLoadingError",value:function(){this.error=!0,this.isLoading=!1,this.hasLoaded=!0}},{key:"add",value:function(e){this.users.push(e),this.isAdding=!1}},{key:"setAdding",value:function(){this.isAdding=!0}},{key:"setAddingError",value:function(){this.addingError=!0,this.isAdding=!1}},{key:"remove",value:function(e){this.users=this.users.filter((function(t){return t.id!==e.id})),this.isRemoving=!1}},{key:"setRemoving",value:function(){this.isRemoving=!0}},{key:"setRemovingError",value:function(){this.removingError=!0,this.isRemoving=!1}}]),e}(),n=d,i=$()(n.prototype,"users",[U.LO],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),s=$()(n.prototype,"isLoading",[U.LO],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),o=$()(n.prototype,"hasLoaded",[U.LO],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),u=$()(n.prototype,"error",[U.LO],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),$()(n.prototype,"setUsers",[U.aD],Object.getOwnPropertyDescriptor(n.prototype,"setUsers"),n.prototype),$()(n.prototype,"setLoading",[U.aD],Object.getOwnPropertyDescriptor(n.prototype,"setLoading"),n.prototype),$()(n.prototype,"setLoadingError",[U.aD],Object.getOwnPropertyDescriptor(n.prototype,"setLoadingError"),n.prototype),a=$()(n.prototype,"isAdding",[U.LO],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),c=$()(n.prototype,"addingError",[U.LO],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),$()(n.prototype,"add",[U.aD],Object.getOwnPropertyDescriptor(n.prototype,"add"),n.prototype),$()(n.prototype,"setAdding",[U.aD],Object.getOwnPropertyDescriptor(n.prototype,"setAdding"),n.prototype),$()(n.prototype,"setAddingError",[U.aD],Object.getOwnPropertyDescriptor(n.prototype,"setAddingError"),n.prototype),l=$()(n.prototype,"isRemoving",[U.LO],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),f=$()(n.prototype,"removingError",[U.LO],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),$()(n.prototype,"remove",[U.aD],Object.getOwnPropertyDescriptor(n.prototype,"remove"),n.prototype),$()(n.prototype,"setRemoving",[U.aD],Object.getOwnPropertyDescriptor(n.prototype,"setRemoving"),n.prototype),$()(n.prototype,"setRemovingError",[U.aD],Object.getOwnPropertyDescriptor(n.prototype,"setRemovingError"),n.prototype),n),O=$RefreshSig$(),L=(0,p.createContext)(null),k=function(e){O();var t=e.children,r=(0,m.hN)((function(){return new w}));return p.createElement(L.Provider,{value:r},t)};O(k,"IB0PjL6demgr5+qEQQSGmSQMH8s=",!1,(function(){return[m.hN]}));var j=L;$RefreshReg$(k,"UserStoreProvider");var x=r(9323),S=$RefreshSig$(),A=function(){return S(),(0,p.useContext)(j)};S(A,"gDsCjeeItUuvgOWf1v4qoK9RF6k=");var P,D,q=r(5973),C=r(4494),I=r(7025),Z=$RefreshSig$(),N=D=Z(p.memo(P=Z((function(e){Z();var t=e.name,r=e.id;(0,C.tc)("UserItem: ".concat(t));var n=A();return p.createElement(q.H,{onRemove:function(){n.setRemoving(),I.ZP.removeUser({name:t,id:r}).then((function(){return n.remove({name:t,id:r})})).catch((function(){return n.setAddingError()}))}},t)}),"CU5eEJtgoX1j5hKOAHc1naNQcUY=",!1,(function(){return[C.tc,A]}))),"CU5eEJtgoX1j5hKOAHc1naNQcUY=",!1,(function(){return[C.tc,A]}));$RefreshReg$(P,"%default%$React.memo"),$RefreshReg$(D,"%default%");var T,M,H=r(2614),_=$RefreshSig$(),K=M=_((0,x.Pi)(T=_((function(){_(),(0,C.tc)("UserList");var e=A(),t=e.users,r=e.isLoading,n=e.hasLoaded,i=e.error;return(0,p.useEffect)((function(){e.setLoading(),I.ZP.getUsers().then((function(t){return e.setUsers(t)})).catch((function(){return e.setLoadingError()}))}),[e]),r||!n?p.createElement(H.a,null):i?p.createElement(H.j,null):p.createElement(q.a,null,t.map((function(e){return p.createElement(N,{key:e.id,id:e.id,name:e.name})})))}),"8Ipeo+vuRTLckeMkMdoH/6spDaU=",!1,(function(){return[C.tc,A]}))),"8Ipeo+vuRTLckeMkMdoH/6spDaU=",!1,(function(){return[C.tc,A]}));$RefreshReg$(T,"%default%$observer"),$RefreshReg$(M,"%default%");var F,Q,z=$RefreshSig$(),J=Q=z((0,x.Pi)(F=z((function(){z(),(0,C.tc)("UserIndicators");var e=A(),t=e.isRemoving,r=e.errorRemoving,n=e.isAdding,i=e.errorAdding;return p.createElement(p.Fragment,null,t&&p.createElement(H.a,null,"Removing user..."),r&&p.createElement(H.j,null,"Failed to remove user"),n&&p.createElement(H.a,null,"Adding user..."),i&&p.createElement(H.j,null,"Failed to add user"))}),"QisT68DTM0XLULJN2UKlpZiLupw=",!1,(function(){return[C.tc,A]}))),"QisT68DTM0XLULJN2UKlpZiLupw=",!1,(function(){return[C.tc,A]}));$RefreshReg$(F,"%default%$observer"),$RefreshReg$(Q,"%default%");var X,G,W=r(9693),Y=r(6722),B=$RefreshSig$(),V=G=B((0,x.Pi)(X=B((function(){B(),(0,C.tc)("UserInput");var e=A();return p.createElement(Y.Z,{disabled:e.isAdding},(function(t){return p.createElement(W.Z,{disabled:e.isAdding,onClick:function(){return function(t){e.setAdding(),I.ZP.addUser(t).then((function(t){return e.add(t)})).catch((function(){return e.setAddingError()}))}(t)}},"Add user")}))}),"CU5eEJtgoX1j5hKOAHc1naNQcUY=",!1,(function(){return[C.tc,A]}))),"CU5eEJtgoX1j5hKOAHc1naNQcUY=",!1,(function(){return[C.tc,A]}));function ee(){return p.createElement(k,null,p.createElement(K,null),p.createElement(J,null),p.createElement(V,null))}$RefreshReg$(X,"%default%$observer"),$RefreshReg$(G,"%default%"),$RefreshReg$(ee,"UsersWrapper");var te=r(5376),re=r(9434),ne=r(448),ie=r(9268),se=r(3225);function oe(){return p.createElement(p.Fragment,null,p.createElement(re.H1,null,"Mobx"),p.createElement(W._,null,p.createElement(ie.Ou,{text:"UserStore.js",fileName:"components/mobx/UserStore.js"}),p.createElement(ie.Ou,{text:"UserStoreContext.js",fileName:"components/mobx/UserStoreContext.js"}),p.createElement(ie.Ou,{text:"useUserStore.js",fileName:"components/mobx/useUserStore.js"}),p.createElement(ie.Ou,{text:"UsersWrapper.js",fileName:"components/mobx/UsersWrapper.js"}),p.createElement(ie.Ou,{text:"UserList.js",fileName:"components/mobx/UserList.js"}),p.createElement(ie.Ou,{text:"UserItem.js",fileName:"components/mobx/UserItem.js"}),p.createElement(ie.Ou,{text:"UserIndicators.js",fileName:"components/mobx/UserIndicators.js"})),p.createElement(ne.Z,null,p.createElement(ee,null)),p.createElement(se.E,null,p.createElement(te.Z,null),p.createElement(I.Tt,null)))}$RefreshReg$(oe,"MobxView")}}]);