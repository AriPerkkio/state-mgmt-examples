(self.webpackChunkstate_mgmt_examples=self.webpackChunkstate_mgmt_examples||[]).push([[898],{2108:function(e,n,t){"use strict";t.d(n,{Tt:function(){return F},ZP:function(){return E},Rf:function(){return R}});var r=t(7757),u=t.n(r),s=t(8926),c=t.n(s),i=t(4575),a=t.n(i),o=t(3913),l=t.n(o),f=t(9713),d=t.n(f),m=t(6967),h=t(7808),p=t.n(h),v=function(){function e(){var n=this;a()(this,e),d()(this,"requests",[]),d()(this,"subscribers",[]),d()(this,"getUsers",(function(){return n._fetch("/users")})),d()(this,"addUser",function(){var e=c()(u().mark((function e(t){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.addRequest("POST /users"),e.next=3,(0,m.gw)(2e3);case 3:return n.addRequest("OK /users"),e.abrupt("return",{name:t,id:(0,m.EL)()});case 5:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()),d()(this,"removeUser",function(){var e=c()(u().mark((function e(t){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.addRequest("DELETE /users/".concat(t.id)),e.next=3,(0,m.gw)(2e3);case 3:n.addRequest("OK /users/".concat(t.id));case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()),d()(this,"clearRequests",(function(){n.requests=[],n.notifySubscribers()}))}var n,t;return l()(e,[{key:"_fetch",value:(t=c()(u().mark((function e(n){var t,r,s,i=this,a=arguments;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>1&&void 0!==a[1]?a[1]:{},r=t.delayMs,s=n.replace(this.baseUrl,""),this.addRequest("GET ".concat(s)),e.abrupt("return",this._mockFetch(n).then((function(e){if(!e.ok)throw new Error("Request to ".concat(n," failed with HTTP").concat(e.status));return e})).then((function(e){return e.json()})).then(function(){var e=c()(u().mark((function e(n){return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,m.gw)(r||2e3);case 2:return i.addRequest("OK ".concat(s)),e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()));case 5:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})},{key:"subscribe",value:function(e){this.subscribers.push(e),e(this.reqests)}},{key:"unSubscribe",value:function(e){this.subscribers=this.subscribers.filter((function(n){return n!==e}))}},{key:"addRequest",value:function(e){this.requests.push(e),this.notifySubscribers()}},{key:"notifySubscribers",value:function(){var e=this;this.subscribers.forEach((function(n){return n(e.requests)}))}},{key:"_mockFetch",value:(n=c()(u().mark((function e(n){var t;return u().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=p()[n],e.abrupt("return",{ok:!!t,status:t?200:404,json:function(){return new Promise((function(e){return e(t)}))}});case 2:case"end":return e.stop()}}),e)}))),function(e){return n.apply(this,arguments)})}]),e}(),g=new v,E=g,R=g.getUsers,b=t(3038),$=t.n(b),k=t(7294),S=t(5049),U=t(3520),y=$RefreshSig$();function F(){y();var e=(0,k.useReducer)((function(e){return e+1}),0),n=$()(e,2)[1];(0,k.useEffect)((function(){return E.subscribe(n),function(){E.unSubscribe(n),E.clearRequests()}}),[]);var t=E.requests.length,r=t>10?t-10:0;return k.createElement("section",null,k.createElement(S.H3,{onClick:E.clearRequests,style:{cursor:"pointer"}},"API requests, click to reset"),k.createElement(U.a,null,t>10&&k.createElement(U.H,null,"..."),E.requests.slice(r).map((function(e,n){return k.createElement(U.H,{key:n},e)}))))}y(F,"UxqsAPbyOOo6jkpO1hjMpCydUI8="),$RefreshReg$(F,"ApiRequests")},7808:function(e){e.exports={"/users":[{id:1,name:"John Doe"},{id:2,name:"Jane Doe"}]}},1830:function(e,n,t){"use strict";t.d(n,{E:function(){return s}});var r=t(9163),u=t(9848),s=r.ZP.div.withConfig({displayName:"Containers__FlexContainer",componentId:"osdxjy-0"})(["display:flex;& > * + *{margin-left:5rem;border-left:1px dashed ",";padding-left:2rem;}"],u.A2)},3242:function(e,n,t){"use strict";t.d(n,{Z:function(){return p}});var r,u,s=t(7154),c=t.n(s),i=t(3038),a=t.n(i),o=t(6479),l=t.n(o),f=t(7294),d=t(9163),m=$RefreshSig$(),h=d.ZP.input.withConfig({displayName:"Input__StyledInput",componentId:"tgycnj-0"})(["margin-right:1rem;&[disabled]{text-decoration:line-through;}"]);function p(e){m();var n=e.children,t=e.disabled,r=l()(e,["children","disabled"]),u=(0,f.useState)(""),s=a()(u,2),i=s[0],o=s[1];return(0,f.useEffect)((function(){!t&&o("")}),[t]),f.createElement("div",null,f.createElement(h,c()({type:"text",disabled:t,value:i,onChange:function(e){return o(e.target.value)}},r)),n(i))}r=h,m(p,"aFIykL0K1j3we4veeaDstLdSuC8="),u=p,$RefreshReg$(r,"StyledInput"),$RefreshReg$(u,"Input")},1162:function(e,n,t){"use strict";t.d(n,{Z:function(){return a}});var r=t(3038),u=t.n(r),s=t(7294),c=t(5109),i=$RefreshSig$();function a(e){i();var n=e.initiallyMounted,t=e.children,r=(0,s.useReducer)((function(e){return!e}),!!n),a=u()(r,2),o=a[0],l=a[1];return s.createElement(s.Fragment,null,s.createElement(c.Z,{onClick:l},o?"Unmount":"Mount"),o&&t)}i(a,"SGBRyZ8qj4KP74qoZGVxnnGCTRI="),$RefreshReg$(a,"MountToggle")},6967:function(e,n,t){"use strict";t.d(n,{gw:function(){return r},EL:function(){return s},ZT:function(){return c}});var r=function(e){return new Promise((function(n){return setTimeout(n,e)}))},u=10,s=function(){return u++},c=function(){}},8898:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return x}});var r,u,s=t(7294),c=t(8876),i=t(7703),a=t(2108),o=(0,c.Jg)({actions:function(){return{load:!0,loadSuccess:function(e){return{users:e}},loadFailure:!0,add:function(e){return{name:e}},addSuccess:function(e){return{user:e}},addFailure:!0,remove:function(e){return{user:e}},removeSuccess:function(e){return{user:e}},removeFailure:!0}},reducers:function(){return{users:[[],{loadSuccess:function(e,n){return n.users},addSuccess:function(e,n){var t=n.user;return e.concat(t)},removeSuccess:function(e,n){var t=n.user;return e.filter((function(e){return e.id!==t.id}))}}],hasLoaded:[!1,{loadSuccess:function(){return!0}}],isLoading:[!1,{load:function(){return!0},loadSuccess:function(){return!1},loadFailure:function(){return!1}}],error:[!1,{load:function(){return!1},loadFailure:function(){return!0}}],isAdding:[!1,{add:function(){return!0},addSuccess:function(){return!1},addFailure:function(){return!1}}],addingError:[!1,{add:function(){return!1},addFailure:function(){return!0}}],isRemoving:[!1,{remove:function(){return!0},removeSuccess:function(){return!1},removeFailure:function(){return!1}}],removingError:[!1,{remove:function(){return!1},removeFailure:function(){return!0}}]}},listeners:function(e){var n=e.actions;return{load:function(){return a.ZP.getUsers().then((function(e){return n.loadSuccess(e)})).catch((function(){return n.loadFailure()}))},add:function(e){var t=e.name;return a.ZP.addUser(t).then((function(e){return n.addSuccess(e)})).catch((function(){return n.addFailure()}))},remove:function(e){var t=e.user;return a.ZP.removeUser(t).then((function(){return n.removeSuccess(t)})).catch((function(){return n.removeFailure()}))}}}}),l=t(3520),f=t(3082),d=$RefreshSig$(),m=u=d(s.memo(r=d((function(e){d();var n=e.name,t=e.id;(0,f.tc)("UserItem: ".concat(n));var r=(0,c.ol)(o).remove;return s.createElement(l.H,{onRemove:function(){return r({name:n,id:t})}},n)}),"DWQpqcFRioXl9J0F1eFlrOSOEuA=",!1,(function(){return[f.tc,c.ol]}))),"DWQpqcFRioXl9J0F1eFlrOSOEuA=",!1,(function(){return[f.tc,c.ol]}));$RefreshReg$(r,"%default%$React.memo"),$RefreshReg$(u,"%default%");var h=t(2938),p=$RefreshSig$();function v(){p(),(0,f.tc)("UserList");var e=(0,c.ol)(o).load,n=(0,c.sP)(o),t=n.users,r=n.isLoading,u=n.hasLoaded,i=n.error;return(0,s.useEffect)((function(){e()}),[e]),r||!u?s.createElement(h.a,null):i?s.createElement(h.j,null):s.createElement(l.a,null,t.map((function(e){return s.createElement(m,{key:e.id,id:e.id,name:e.name})})))}p(v,"p5fFOpARn+A018aaCo1CfkehhLg=",!1,(function(){return[f.tc,c.ol,c.sP]})),$RefreshReg$(v,"UserList");var g=t(5109),E=t(3242),R=$RefreshSig$();function b(){R(),(0,f.tc)("UserInput");var e=(0,c.sP)(o).isAdding,n=(0,c.ol)(o).add;return s.createElement(E.Z,{disabled:e},(function(t){return s.createElement(g.Z,{disabled:e,onClick:function(){return n(t)}},"Add user")}))}R(b,"gRrFNcEugDVshsjUCQKCBLLsETE=",!1,(function(){return[f.tc,c.sP,c.ol]})),$RefreshReg$(b,"UserInput");var $=$RefreshSig$();function k(){$(),(0,f.tc)("UserIndicators");var e=(0,c.sP)(o),n=e.isRemoving,t=e.errorRemoving,r=e.isAdding,u=e.errorAdding;return s.createElement(s.Fragment,null,n&&s.createElement(h.a,null,"Removing user..."),t&&s.createElement(h.j,null,"Failed to remove user"),r&&s.createElement(h.a,null,"Adding user..."),u&&s.createElement(h.j,null,"Failed to add user"))}function S(){return s.createElement(i.Provider,{store:(0,c.fw)().store},s.createElement(v,null),s.createElement(b,null),s.createElement(k,null))}$(k,"CP9rvGlU1XOiNouMpVUmDG/hIag=",!1,(function(){return[f.tc,c.sP]})),$RefreshReg$(k,"UserIndicators"),(0,c.u_)(),$RefreshReg$(S,"UsersWrapper");var U=t(6406),y=t(5049),F=t(1162),w=t(5943),q=t(1830);function x(){return s.createElement(s.Fragment,null,s.createElement(y.H1,null,"Kea"),s.createElement(g._,null,s.createElement(w.Ou,{text:"logic.js",fileName:"components/kea/logic.js"}),s.createElement(w.Ou,{text:"UsersWrapper.js",fileName:"components/kea/UsersWrapper.js"}),s.createElement(w.Ou,{text:"UserList.js",fileName:"components/kea/UserList.js"}),s.createElement(w.Ou,{text:"UserItem.js",fileName:"components/kea/UserItem.js"}),s.createElement(w.Ou,{text:"UserInput.js",fileName:"components/kea/UserInput.js"}),s.createElement(w.Ou,{text:"UserIndicators.js",fileName:"components/kea/UserIndicators.js"})),s.createElement(F.Z,null,s.createElement(S,null)),s.createElement(q.E,null,s.createElement(U.Z,null),s.createElement(a.Tt,null)))}$RefreshReg$(x,"KeaView")}}]);