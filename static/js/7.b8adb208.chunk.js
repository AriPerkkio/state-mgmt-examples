(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{275:function(e,t,r){"use strict";r.d(t,"b",(function(){return h})),r.d(t,"a",(function(){return O}));var n=r(282),i=r.n(n),o=r(283),s=r.n(o),a=r(36),u=r.n(a),c=r(37),l=r.n(c),d=r(7),f=r.n(d),p=r(277),m=r(278),b=r.n(m),h=new(function(){function e(){var t=this;u()(this,e),f()(this,"requests",[]),f()(this,"subscribers",[]),f()(this,"getUsers",(function(){return t._fetch("/users")})),f()(this,"addUser",function(){var e=s()(i.a.mark((function e(r){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.addRequest("POST /users"),e.next=3,Object(p.a)(2e3);case 3:return t.addRequest("OK /users"),e.abrupt("return",{name:r,id:Object(p.c)()});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),f()(this,"removeUser",function(){var e=s()(i.a.mark((function e(r){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.addRequest("DELETE /users/".concat(r.id)),e.next=3,Object(p.a)(2e3);case 3:t.addRequest("OK /users/".concat(r.id));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),f()(this,"clearRequests",(function(){t.requests=[],t.notifySubscribers()}))}var t,r;return l()(e,[{key:"_fetch",value:(r=s()(i.a.mark((function e(t){var r,n,o,a=this,u=arguments;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>1&&void 0!==u[1]?u[1]:{},n=r.delayMs,o=t.replace(this.baseUrl,""),this.addRequest("GET ".concat(o)),e.abrupt("return",this._mockFetch(t).then((function(e){if(!e.ok)throw new Error("Request to ".concat(t," failed with HTTP").concat(e.status));return e})).then((function(e){return e.json()})).then(function(){var e=s()(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(p.a)(n||2e3);case 2:return a.addRequest("OK ".concat(o)),e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:case"end":return e.stop()}}),e,this)}))),function(e){return r.apply(this,arguments)})},{key:"subscribe",value:function(e){this.subscribers.push(e),e(this.reqests)}},{key:"unSubscribe",value:function(e){this.subscribers=this.subscribers.filter((function(t){return t!==e}))}},{key:"addRequest",value:function(e){this.requests.push(e),this.notifySubscribers()}},{key:"notifySubscribers",value:function(){var e=this;this.subscribers.forEach((function(t){return t(e.requests)}))}},{key:"_mockFetch",value:(t=s()(i.a.mark((function e(t){var r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=b.a[t],e.abrupt("return",{ok:!!r,status:r?200:404,json:function(){return new Promise((function(e){return e(r)}))}});case 2:case"end":return e.stop()}}),e)}))),function(e){return t.apply(this,arguments)})}]),e}()),g=r(2),y=r.n(g),v=r(0),E=r.n(v),j=r(34),w=r(17);function O(){var e=Object(v.useReducer)((function(e){return e+1}),0),t=y()(e,2)[1];Object(v.useEffect)((function(){return h.subscribe(t),function(){h.unSubscribe(t),h.clearRequests()}}),[]);var r=h.requests.length,n=r>10?r-10:0;return E.a.createElement("section",null,E.a.createElement(j.d,{onClick:h.clearRequests,style:{cursor:"pointer"}},"API requests, click to reset"),E.a.createElement(w.a,null,r>10&&E.a.createElement(w.b,null,"..."),h.requests.slice(n).map((function(e,t){return E.a.createElement(w.b,{key:t},e)}))))}},277:function(e,t,r){"use strict";r.d(t,"a",(function(){return n})),r.d(t,"c",(function(){return o})),r.d(t,"b",(function(){return s}));var n=function(e){return new Promise((function(t){return setTimeout(t,e)}))},i=10,o=function(){return i++},s=function(){}},278:function(e,t){e.exports={"/users":[{id:1,name:"John Doe"},{id:2,name:"Jane Doe"}]}},279:function(e,t,r){"use strict";r.d(t,"a",(function(){return o}));var n=r(3),i=r(4),o=n.a.div.withConfig({displayName:"Containers__FlexContainer",componentId:"osdxjy-0"})(["display:flex;& > * + *{margin-left:5rem;border-left:1px dashed ",";padding-left:2rem;}"],i.c)},280:function(e,t,r){"use strict";r.d(t,"a",(function(){return u}));var n=r(2),i=r.n(n),o=r(0),s=r.n(o),a=r(16);function u(e){var t=e.initiallyMounted,r=e.children,n=Object(o.useReducer)((function(e){return!e}),!!t),u=i()(n,2),c=u[0],l=u[1];return s.a.createElement(s.a.Fragment,null,s.a.createElement(a.b,{onClick:l},c?"Unmount":"Mount"),c&&r)}},281:function(e,t,r){"use strict";r.d(t,"a",(function(){return f}));var n=r(6),i=r.n(n),o=r(2),s=r.n(o),a=r(8),u=r.n(a),c=r(0),l=r.n(c),d=r(3).a.input.withConfig({displayName:"Input__StyledInput",componentId:"tgycnj-0"})(["margin-right:1rem;&[disabled]{text-decoration:line-through;}"]);function f(e){var t=e.children,r=e.disabled,n=u()(e,["children","disabled"]),o=Object(c.useState)(""),a=s()(o,2),f=a[0],p=a[1];return Object(c.useEffect)((function(){!r&&p("")}),[r]),l.a.createElement("div",null,l.a.createElement(d,i()({type:"text",disabled:r,value:f,onChange:function(e){return p(e.target.value)}},n)),t(f))}},326:function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return H}));var n,i,o,s,a,u,c,l,d,f=r(0),p=r.n(f),m=r(287),b=r(316),h=r.n(b),g=r(36),y=r.n(g),v=r(37),E=r.n(v),j=(r(7),r(317)),w=r.n(j),O=(r(318),r(305)),x=(n=function(){function e(){y()(this,e),h()(this,"users",i,this),h()(this,"isLoading",o,this),h()(this,"hasLoaded",s,this),h()(this,"error",a,this),h()(this,"isAdding",u,this),h()(this,"addingError",c,this),h()(this,"isRemoving",l,this),h()(this,"removingError",d,this)}return E()(e,[{key:"setUsers",value:function(e){this.users=e,this.isLoading=!1,this.hasLoaded=!0}},{key:"setLoading",value:function(){this.isLoading=!0}},{key:"setLoadingError",value:function(){this.error=!0,this.isLoading=!1,this.hasLoaded=!0}},{key:"add",value:function(e){this.users.push(e),this.isAdding=!1}},{key:"setAdding",value:function(){this.isAdding=!0}},{key:"setAddingError",value:function(){this.addingError=!0,this.isAdding=!1}},{key:"remove",value:function(e){this.users=this.users.filter((function(t){return t.id!==e.id})),this.isRemoving=!1}},{key:"setRemoving",value:function(){this.isRemoving=!0}},{key:"setRemovingError",value:function(){this.removingError=!0,this.isRemoving=!1}}]),e}(),i=w()(n.prototype,"users",[O.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),o=w()(n.prototype,"isLoading",[O.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),s=w()(n.prototype,"hasLoaded",[O.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),a=w()(n.prototype,"error",[O.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),w()(n.prototype,"setUsers",[O.f],Object.getOwnPropertyDescriptor(n.prototype,"setUsers"),n.prototype),w()(n.prototype,"setLoading",[O.f],Object.getOwnPropertyDescriptor(n.prototype,"setLoading"),n.prototype),w()(n.prototype,"setLoadingError",[O.f],Object.getOwnPropertyDescriptor(n.prototype,"setLoadingError"),n.prototype),u=w()(n.prototype,"isAdding",[O.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),c=w()(n.prototype,"addingError",[O.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),w()(n.prototype,"add",[O.f],Object.getOwnPropertyDescriptor(n.prototype,"add"),n.prototype),w()(n.prototype,"setAdding",[O.f],Object.getOwnPropertyDescriptor(n.prototype,"setAdding"),n.prototype),w()(n.prototype,"setAddingError",[O.f],Object.getOwnPropertyDescriptor(n.prototype,"setAddingError"),n.prototype),l=w()(n.prototype,"isRemoving",[O.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),d=w()(n.prototype,"removingError",[O.m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),w()(n.prototype,"remove",[O.f],Object.getOwnPropertyDescriptor(n.prototype,"remove"),n.prototype),w()(n.prototype,"setRemoving",[O.f],Object.getOwnPropertyDescriptor(n.prototype,"setRemoving"),n.prototype),w()(n.prototype,"setRemovingError",[O.f],Object.getOwnPropertyDescriptor(n.prototype,"setRemovingError"),n.prototype),n),k=Object(f.createContext)(null),U=function(e){var t=e.children,r=Object(m.d)((function(){return new x}));return p.a.createElement(k.Provider,{value:r},t)},R=k,L=r(297),A=function(){return Object(f.useContext)(R)},q=r(17),P=r(33),S=r(275),C=p.a.memo((function(e){var t=e.name,r=e.id;Object(P.b)("UserItem: ".concat(t));var n=A();return p.a.createElement(q.b,{onRemove:function(){n.setRemoving(),S.b.removeUser({name:t,id:r}).then((function(){return n.remove({name:t,id:r})})).catch((function(){return n.setAddingError()}))}},t)})),D=r(35),I=Object(L.a)((function(){Object(P.b)("UserList");var e=A(),t=e.users,r=e.isLoading,n=e.hasLoaded,i=e.error;return Object(f.useEffect)((function(){e.setLoading(),S.b.getUsers().then((function(t){return e.setUsers(t)})).catch((function(){return e.setLoadingError()}))}),[e]),r||!n?p.a.createElement(D.b,null):i?p.a.createElement(D.a,null):p.a.createElement(q.a,null,t.map((function(e){return p.a.createElement(C,{key:e.id,id:e.id,name:e.name})})))})),N=Object(L.a)((function(){Object(P.b)("UserIndicators");var e=A(),t=e.isRemoving,r=e.errorRemoving,n=e.isAdding,i=e.errorAdding;return p.a.createElement(p.a.Fragment,null,t&&p.a.createElement(D.b,null,"Removing user..."),r&&p.a.createElement(D.a,null,"Failed to remove user"),n&&p.a.createElement(D.b,null,"Adding user..."),i&&p.a.createElement(D.a,null,"Failed to add user"))})),z=r(16),F=r(281),_=Object(L.a)((function(){Object(P.b)("UserInput");var e=A();return p.a.createElement(F.a,{disabled:e.isAdding},(function(t){return p.a.createElement(z.b,{disabled:e.isAdding,onClick:function(){return function(t){e.setAdding(),S.b.addUser(t).then((function(t){return e.add(t)})).catch((function(){return e.setAddingError()}))}(t)}},"Add user")}))}));function T(){return p.a.createElement(U,null,p.a.createElement(I,null),p.a.createElement(N,null),p.a.createElement(_,null))}var J=r(38),M=r(34),K=r(280),W=r(21),G=r(279);function H(){return p.a.createElement(p.a.Fragment,null,p.a.createElement(M.b,null,"Mobx"),p.a.createElement(z.a,null,p.a.createElement(W.a,{text:"UserStore.js",fileName:"components/mobx/UserStore.js"}),p.a.createElement(W.a,{text:"UserStoreContext.js",fileName:"components/mobx/UserStoreContext.js"}),p.a.createElement(W.a,{text:"useUserStore.js",fileName:"components/mobx/useUserStore.js"}),p.a.createElement(W.a,{text:"UsersWrapper.js",fileName:"components/mobx/UsersWrapper.js"}),p.a.createElement(W.a,{text:"UserList.js",fileName:"components/mobx/UserList.js"}),p.a.createElement(W.a,{text:"UserItem.js",fileName:"components/mobx/UserItem.js"}),p.a.createElement(W.a,{text:"UserIndicators.js",fileName:"components/mobx/UserIndicators.js"})),p.a.createElement(K.a,null,p.a.createElement(T,null)),p.a.createElement(G.a,null,p.a.createElement(J.b,null),p.a.createElement(S.a,null)))}}}]);