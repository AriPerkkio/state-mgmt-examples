(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{275:function(e,t,r){"use strict";r.d(t,"b",(function(){return E})),r.d(t,"a",(function(){return j}));var n=r(283),a=r.n(n),s=r(284),c=r.n(s),u=r(36),i=r.n(u),o=r(37),l=r.n(o),d=r(7),f=r.n(d),m=r(277),p=r(278),b=r.n(p),E=new(function(){function e(){var t=this;i()(this,e),f()(this,"requests",[]),f()(this,"subscribers",[]),f()(this,"getUsers",(function(){return t._fetch("/users")})),f()(this,"addUser",function(){var e=c()(a.a.mark((function e(r){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.addRequest("POST /users"),e.next=3,Object(m.a)(2e3);case 3:return t.addRequest("OK /users"),e.abrupt("return",{name:r,id:Object(m.c)()});case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),f()(this,"removeUser",function(){var e=c()(a.a.mark((function e(r){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.addRequest("DELETE /users/".concat(r.id)),e.next=3,Object(m.a)(2e3);case 3:t.addRequest("OK /users/".concat(r.id));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),f()(this,"clearRequests",(function(){t.requests=[],t.notifySubscribers()}))}var t,r;return l()(e,[{key:"_fetch",value:(r=c()(a.a.mark((function e(t){var r,n,s,u=this,i=arguments;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=i.length>1&&void 0!==i[1]?i[1]:{},n=r.delayMs,s=t.replace(this.baseUrl,""),this.addRequest("GET ".concat(s)),e.abrupt("return",this._mockFetch(t).then((function(e){if(!e.ok)throw new Error("Request to ".concat(t," failed with HTTP").concat(e.status));return e})).then((function(e){return e.json()})).then(function(){var e=c()(a.a.mark((function e(t){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(m.a)(n||2e3);case 2:return u.addRequest("OK ".concat(s)),e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:case"end":return e.stop()}}),e,this)}))),function(e){return r.apply(this,arguments)})},{key:"subscribe",value:function(e){this.subscribers.push(e),e(this.reqests)}},{key:"unSubscribe",value:function(e){this.subscribers=this.subscribers.filter((function(t){return t!==e}))}},{key:"addRequest",value:function(e){this.requests.push(e),this.notifySubscribers()}},{key:"notifySubscribers",value:function(){var e=this;this.subscribers.forEach((function(t){return t(e.requests)}))}},{key:"_mockFetch",value:(t=c()(a.a.mark((function e(t){var r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=b.a[t],e.abrupt("return",{ok:!!r,status:r?200:404,json:function(){return new Promise((function(e){return e(r)}))}});case 2:case"end":return e.stop()}}),e)}))),function(e){return t.apply(this,arguments)})}]),e}()),O=r(2),v=r.n(O),R=r(0),h=r.n(R),g=r(34),_=r(17);function j(){var e=Object(R.useReducer)((function(e){return e+1}),0),t=v()(e,2)[1];Object(R.useEffect)((function(){return E.subscribe(t),function(){E.unSubscribe(t),E.clearRequests()}}),[]);var r=E.requests.length,n=r>10?r-10:0;return h.a.createElement("section",null,h.a.createElement(g.d,{onClick:E.clearRequests,style:{cursor:"pointer"}},"API requests, click to reset"),h.a.createElement(_.a,null,r>10&&h.a.createElement(_.b,null,"..."),E.requests.slice(n).map((function(e,t){return h.a.createElement(_.b,{key:t},e)}))))}},277:function(e,t,r){"use strict";r.d(t,"a",(function(){return n})),r.d(t,"c",(function(){return s})),r.d(t,"b",(function(){return c}));var n=function(e){return new Promise((function(t){return setTimeout(t,e)}))},a=10,s=function(){return a++},c=function(){}},278:function(e,t){e.exports={"/users":[{id:1,name:"John Doe"},{id:2,name:"Jane Doe"}]}},279:function(e,t,r){"use strict";r.d(t,"a",(function(){return s}));var n=r(3),a=r(4),s=n.a.div.withConfig({displayName:"Containers__FlexContainer",componentId:"osdxjy-0"})(["display:flex;& > * + *{margin-left:5rem;border-left:1px dashed ",";padding-left:2rem;}"],a.c)},281:function(e,t,r){"use strict";r.d(t,"a",(function(){return i}));var n=r(2),a=r.n(n),s=r(0),c=r.n(s),u=r(16);function i(e){var t=e.initiallyMounted,r=e.children,n=Object(s.useReducer)((function(e){return!e}),!!t),i=a()(n,2),o=i[0],l=i[1];return c.a.createElement(c.a.Fragment,null,c.a.createElement(u.b,{onClick:l},o?"Unmount":"Mount"),o&&r)}},282:function(e,t,r){"use strict";r.d(t,"a",(function(){return f}));var n=r(6),a=r.n(n),s=r(2),c=r.n(s),u=r(8),i=r.n(u),o=r(0),l=r.n(o),d=r(3).a.input.withConfig({displayName:"Input__StyledInput",componentId:"tgycnj-0"})(["margin-right:1rem;&[disabled]{text-decoration:line-through;}"]);function f(e){var t=e.children,r=e.disabled,n=i()(e,["children","disabled"]),s=Object(o.useState)(""),u=c()(s,2),f=u[0],m=u[1];return Object(o.useEffect)((function(){!r&&m("")}),[r]),l.a.createElement("div",null,l.a.createElement(d,a()({type:"text",disabled:r,value:f,onChange:function(e){return m(e.target.value)}},n)),t(f))}},320:function(e,t,r){"use strict";r.r(t),r.d(t,"default",(function(){return X}));var n=r(0),a=r.n(n),s=r(280),c=r(292),u=r(313),i=r(39),o=r.n(i),l=r(7),d=r.n(l);function f(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function m(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?f(Object(r),!0).forEach((function(t){d()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var p={users:[],isLoading:!1,hasLoaded:!1,error:!1,isAdding:!1,errorAdding:!1,isRemoving:!1,errorRemoving:!1};var b=r(17),E=r(33),O=a.a.memo((function(e){var t=e.name,r=e.id;Object(E.b)("UserItem: ".concat(t));var n=Object(s.c)();return a.a.createElement(b.b,{onRemove:function(){n({type:"ON_USER_REMOVE_START",user:{name:t,id:r}})}},t)})),v=r(35);var R=Object(s.b)((function(e){return{users:e.users,isLoading:e.isLoading,shouldFetch:!e.isLoading&&!e.hasLoaded,error:e.error}}))((function(e){var t=e.users,r=e.isLoading,s=e.shouldFetch,c=e.error,u=e.dispatch;return Object(E.b)("UserList"),Object(n.useEffect)((function(){s&&u({type:"ON_USERS_LOAD_START"})}),[s,u]),r||s?a.a.createElement(v.b,null):c?a.a.createElement(v.a,null):a.a.createElement(b.a,null,t.map((function(e){return a.a.createElement(O,{key:e.id,id:e.id,name:e.name})})))})),h=r(16),g=r(282);function _(){Object(E.b)("UserInput");var e=Object(s.d)((function(e){return e.isAdding})),t=Object(s.c)();return a.a.createElement(g.a,{disabled:e},(function(r){return a.a.createElement(h.b,{disabled:e,onClick:function(){return function(e){t({type:"ON_USER_ADD_START",user:{name:e}})}(r)}},"Add user")}))}function j(){Object(E.b)("UserIndicators");var e=Object(s.d)((function(e){return{isRemoving:e.isRemoving,errorRemoving:e.errorRemoving,isAdding:e.isAdding,errorAdding:e.errorAdding}})),t=e.isRemoving,r=e.errorRemoving,n=e.isAdding,c=e.errorAdding;return a.a.createElement(a.a.Fragment,null,t&&a.a.createElement(v.b,null,"Removing user..."),r&&a.a.createElement(v.a,null,"Failed to remove user"),n&&a.a.createElement(v.b,null,"Adding user..."),c&&a.a.createElement(v.a,null,"Failed to add user"))}var S=r(283),x=r.n(S),U=r(314),y=r(275),w=x.a.mark(C),A=x.a.mark(q),k=x.a.mark(I),N=x.a.mark(P),D=x.a.mark(F),T=x.a.mark(M),L=x.a.mark(V);function C(){var e;return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(U.b)(y.b.getUsers);case 3:return e=t.sent,t.next=6,Object(U.c)({type:"ON_USERS_LOAD_SUCCESS",users:e});case 6:t.next=12;break;case 8:return t.prev=8,t.t0=t.catch(0),t.next=12,Object(U.c)({type:"ON_USERS_LOAD_ERROR"});case 12:case"end":return t.stop()}}),w,null,[[0,8]])}function q(e){var t;return x.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,Object(U.b)(y.b.addUser,e.user.name);case 3:return t=r.sent,r.next=6,Object(U.c)({type:"ON_USER_ADD_SUCCESS",user:t});case 6:r.next=12;break;case 8:return r.prev=8,r.t0=r.catch(0),r.next=12,Object(U.c)({type:"ON_USER_ADD_ERROR"});case 12:case"end":return r.stop()}}),A,null,[[0,8]])}function I(e){return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(U.b)(y.b.removeUser,e.user);case 3:return t.next=5,Object(U.c)({type:"ON_USER_REMOVE_SUCCESS",user:e.user});case 5:t.next=11;break;case 7:return t.prev=7,t.t0=t.catch(0),t.next=11,Object(U.c)({type:"ON_USER_REMOVE_ERROR"});case 11:case"end":return t.stop()}}),k,null,[[0,7]])}function P(){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(U.d)("ON_USERS_LOAD_START",C);case 2:case"end":return e.stop()}}),N)}function F(){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(U.d)("ON_USER_ADD_START",q);case 2:case"end":return e.stop()}}),D)}function M(){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(U.d)("ON_USER_REMOVE_START",I);case 2:case"end":return e.stop()}}),T)}function V(){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(U.a)([P(),F(),M()]);case 2:case"end":return e.stop()}}),L)}var J=Object(u.a)(),K=Object(c.d)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ON_USERS_LOAD_START":return m(m({},e),{},{isLoading:!0,hasLoaded:!0});case"ON_USERS_LOAD_SUCCESS":return m(m({},e),{},{isLoading:!1,users:t.users});case"ON_USERS_LOAD_ERROR":return m(m({},e),{},{isLoading:!1,error:!0});case"ON_USER_ADD_START":return m(m({},e),{},{isAdding:!0,errorAdding:!1});case"ON_USER_ADD_SUCCESS":return m(m({},e),{},{isAdding:!1,users:[].concat(o()(e.users),[t.user])});case"ON_USER_ADD_ERROR":return m(m({},e),{},{isAdding:!1,errorAdding:!0});case"ON_USER_REMOVE_START":return m(m({},e),{},{isRemoving:!0,errorRemoving:!1});case"ON_USER_REMOVE_SUCCESS":return m(m({},e),{},{users:e.users.filter((function(e){return e.id!==t.user.id})),isRemoving:!1});case"ON_USER_REMOVE_ERROR":return m(m({},e),{},{isRemoving:!1,errorRemoving:!0});default:return e}}),Object(c.a)(J));function W(){return Object(E.b)("UserListWrapper"),a.a.createElement(s.a,{store:K},a.a.createElement(R,null),a.a.createElement(_,null),a.a.createElement(j,null))}J.run(V);var G=r(38),H=r(34),z=r(281),B=r(21),Q=r(279);function X(){return a.a.createElement(a.a.Fragment,null,a.a.createElement(H.b,null,"Redux Saga"),a.a.createElement(h.a,null,a.a.createElement(B.a,{text:"sagas.js",fileName:"components/redux-saga/sagas.js"}),a.a.createElement(B.a,{text:"actions.js",fileName:"components/redux-saga/actions.js"}),a.a.createElement(B.a,{text:"reducer.js",fileName:"components/redux-saga/reducer.js"}),a.a.createElement(B.a,{text:"UsersWrapper.js",fileName:"components/redux-saga/UsersWrapper.js"}),a.a.createElement(B.a,{text:"UserList.js",fileName:"components/redux-saga/UserList.js"}),a.a.createElement(B.a,{text:"UserInput.js",fileName:"components/redux-saga/UserInput.js"}),a.a.createElement(B.a,{text:"UserItem.js",fileName:"components/redux-saga/UserItem.js"}),a.a.createElement(B.a,{text:"UserIndicators.js",fileName:"components/redux-saga/UserIndicators.js"})),a.a.createElement(z.a,null,a.a.createElement(W,null)),a.a.createElement(Q.a,null,a.a.createElement(G.b,null),a.a.createElement(y.a,null)))}}}]);